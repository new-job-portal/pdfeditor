<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>All-in-One PDF Tools</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
:root{
  --bg:#0d0f1a;
  --card:#161a2b;
  --muted:#8ba4ff;
  --accent:#4862ff;
  --card-border:#232744;
  --tool-bg:#111522;
}
*{box-sizing:border-box}
body{
    margin:0;
    font-family:Inter,Arial,Helvetica,sans-serif;
    background:var(--bg);
    color:white;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}
.header{
    padding:30px 24px;
    font-size:28px;
    font-weight:700;
    background:linear-gradient(90deg,rgba(255,255,255,0.02),transparent);
}

.btn{
    margin-top:12px;
    padding:10px 14px;
    background:linear-gradient(90deg,var(--accent),#3bb0ff);
    border:none;
    border-radius:8px;
    color:white;
    cursor:pointer;
    font-weight:600;
}
.btn:active{transform:translateY(1px)}
.hidden{display:none}
.tool-area{
    max-width:1200px;margin:20px auto;padding:20px;border-radius:12px;background:var(--tool-bg);border:1px solid rgba(255,255,255,0.02)
}
h3{
    text-align: center;
    font-size: xx-large;
}

.tool-row{gap:12px;flex-wrap:wrap;align-items:center; text-align: center;}
label{font-size:13px;color:#cbd5ff}
input[type=file]{color:transparent}
.range-wrap{display:flex;align-items:center;gap:12px;margin-top:8px}
.range-wrap input[type=range]{width:320px}
.info{margin-top:8px;font-size:13px;color:#9fb0ff}
.output-links a{display:inline-block;margin:6px 8px;padding:6px 10px;background:#0b1220;border-radius:8px;color:#bfe4ff;text-decoration:none;border:1px solid rgba(255,255,255,0.03)}
.footer{padding:30px;text-align:center;color:#9aa8ff66}
@media(max-width:600px){.range-wrap input[type=range]{width:160px}}
.file-list{margin-top:8px;color:#8ba4ff;font-size:20px; text-align:left;}
</style>
</head>
<body>

<div class="header">Split PDF</div>

<!-- Tools -->
<div class="tool-area">
    <h3>Split PDF</h3>
    <div class="tool-row">
        <input type="file" id="splitFile" accept="application/pdf" multiple>

        <!-- â­ FILE NAMES HERE â­ -->
        <div id="fileNameDisplay" class="file-list"></div>

        <input type="text" id="pageRange" placeholder="e.g. 1-3,7,10" 
               style="padding:8px;border-radius:8px;background:#0b1220;border:1px solid #111;color:#cfe">
        <button class="btn" onclick="splitPDF()">Split</button>
    </div>
    <div id="output_split" class="output-links"></div>
</div>

<div class="footer">Client-side demo â€” works in modern browsers. Uses pdf.js and jsPDF libraries.</div>

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
/* Show Multiple File Names */
document.getElementById("splitFile").addEventListener("change", function(){
    const files = Array.from(this.files);
    const display = files.map(f => "ðŸ“„ " + f.name).join("<br>");
    document.getElementById("fileNameDisplay").innerHTML = display || "";
});

/* ---------- SPLIT ---------- */
async function splitPDF(){
    const files = Array.from(document.getElementById("splitFile").files);
    if(files.length===0){ alert("Select at least one PDF to split."); return; }
    const rangeText = document.getElementById("pageRange").value.trim();
    if(!rangeText){ alert("Enter page range, e.g. 1-3,5"); return; }

    const pages = parsePageRange(rangeText);
    const { jsPDF } = window.jspdf;

    for(let file of files){
        const pdfDoc = await pdfjsLib.getDocument(URL.createObjectURL(file)).promise;
        const out = new jsPDF();
        let first = true;

        for(let p of pages){
            if(p < 1 || p > pdfDoc.numPages) continue;
            const page = await pdfDoc.getPage(p);
            const vp = page.getViewport({scale:1.5});
            const canvas = document.createElement("canvas");
            canvas.width = vp.width;
            canvas.height = vp.height;

            await page.render({canvasContext:canvas.getContext("2d"),viewport:vp}).promise;

            if(!first) out.addPage();
            out.addImage(canvas.toDataURL("image/jpeg"),"JPEG",10,10,180,250);
            first=false;
        }

        out.save("split_" + file.name.replace(".pdf","") + ".pdf");
    }
}

function parsePageRange(r){
    const parts = r.split(",").map(s=>s.trim()).filter(Boolean);
    const pages=[];
    parts.forEach(p=>{
        if(p.includes("-")){
            const [s,e]=p.split("-").map(Number);
            for(let x=s;x<=e;x++) pages.push(x);
        } else {
            pages.push(Number(p));
        }
    });
    return pages;
}
</script>

</body>
</html>
